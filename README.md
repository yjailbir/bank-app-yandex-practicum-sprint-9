# Bank App — проектная работа (спринт 9)
Микросервисное банковское приложение, реализованное с использованием Spring и поднятое в k8s кластере.

## Структура репозитория
В корне находятся следующие модули/сервисы:
- `accounts-service` — управление счетами и учётными записями клиентов
- `blocker-service` — сервис блокировок подозрительных операций
- `cash-service` — обработка кассовых операций (внесение/выплата)
- `common` — общие конфиги и модели, используемые другими сервисами
- `config-service` — централизованная конфигурация
- `exchange-generator-service` — генератор операций обмена
- `exchange-service` — сервис обмена валют
- `notification-service` — отправка уведомлений
- `transfer-service` — Переводы денег между любыми счетами (одного или нескольких пользователей)
- `ui-service` — пользовательский интерфейс (frontend/шаблоны)

## Коротко про назначение
Проект демонстрирует:
- микросервисную архитектуру на Spring
- взаимодействие сервисов через REST
- Автоматизированный запуск в кластере Kubernetes (Только для Windows)
- или централизованный запуск в Kubernetes через Helm
- Мониторинг метрик и трейсинг запросов (В проекте есть настроенные Grafana, Zipkin, Logstash, Elasticsearch и Kibana)


Для просмотра ui сервисов мониторинга нужно пробросить наружу порт из k8s кластера командой
kubectl port-forward svc/{название сервиса с учетом пространства имён} {внешний порт}:{порт сервиса в кластере}
Например 
```
kubectl port-forward -n monitoring svc/prometheus-stack-grafana 3000:80
```

Для просмотра ui основного приложения:
```
kubectl port-forward svc/ui-service 8080:8080
```
После этого интерфейс основного приложения станет доступен по адресу http://localhost:8080/bank

## Требования
- Docker 
- Java 21
- Maven (можно использовать встроенный `./mvnw`)
- (Опционально) PostgreSQL или другая СУБД, если настроите сервисы на внешнюю БД
- Kubernetes
- Helm

На Windows можно запустить всё (от сборки до запуска сервисов) выполнением файла deploy.ps1. 

Выключение программы и очистка ресурсов автоматически произойдёт при вызове shutdown.ps1.